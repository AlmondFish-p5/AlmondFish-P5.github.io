<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>数学ガール：研究問題を考える</title>
    <meta name="description" content="Javascriptとp5.jsを用いたアニメーションで統計学習をサポートします。" />
  <!-- ===== 数式表示ライブラリ ===== -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- ===== jStat ライブラリ ===== -->
    <script src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js"></script>
  <!-- ===== p5.js ライブラリ ===== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js"></script>
  <!-- ===== スタイルシート初期化 ===== -->
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" />
    <link rel="stylesheet" href="css/study_style.css">
  </head>

  <body>
    <div class="page_header">
      <h1>確率の冒険：研究問題2-3</h1>
      <ul class="main_navigation">
        <li class="main_menu" id="learning">解　　説</li>
        <li class="main_menu" id="usage">使用方法</li>
        <li class="main_menu" id="exit">終　　了</li>
      </ul>
    </div>
    <main>
    <!-- ==================================== -->
      <article id="learning_contents" class="article_contents">
        <h2>〈解説〉くじ引きの順番と当たる確率</h2>
        <h3>最初に引くか、後から引くか</h3>
        <p>ちょうど人数分だけのくじがあり、そのうち1本だけ当たりがあるとき、最初に引く方が当たりやすいか、それとも後から引いた方が当たりやすいでしょうか。確率を用いて考えると、「どちらでも同じ」になります。ここではくじが10本あり（くじを引く人も10人いて）、1本だけが当たりであるとして考えましょう。</p>
        <h3>1人目が当たりくじを引く確率</h3>
        <p>1人目が当たりくじを引く確率は、10本中1本だけ当たりがあるのですから、\(\frac{1}{10}\)です。</p>
        <h3>2人目が当たりくじを引く確率</h3>
        <p>2人目がくじを引くときには、くじは1本減って9本になっていて、その中には当たりくじ1本も残ったままです。したがって、当たる確率は\(\frac{1}{9}\)です。ということは、2人目の方が当たりやすいのでしょうか？ いえ、早合点してはいけません。2人目がくじを引くのは、「1人目が当たりくじを引かなかったとき＝1人目がハズレくじを引いた時」だけです。1人目がハズレくじを引く確率は、\(\frac{9}{10}\)です。したがって、2人目が当たりくじを引く確率は、「1人目がハズレくじを引く」かつ「2人目が当たりくじを引く」の同時確率で、\(\frac{9}{10}\times\frac19=\frac{1}{10}\)となります。結局、1人目と同じなのです。</p>
        <p>以下、同じように考えると、何人目であっても同じ確率になることがわかります。</p>
      </article>
    <!-- ==================================== -->
      <article id="usage_contents" class="article_contents">
        <h2>〈使用方法〉</h2>
        <h3>くじの設定</h3>
        <p><span class="label">くじの本数</span>を10〜50の間で指定します。初期設定は20です。設定した本数の中に1本だけ当たりくじがあると仮定して、ランダムにくじを引いていき、当たりが出たら終わります。</p>
        <h3>実験回数の設定</h3>
        <p><span class="label">実験回数</span>を50〜2000の間で指定します。初期設定は100です。指定した本数のくじを用意してくじ引きをし、当たりくじが出るまでを1回の実験として、指定回数だけ繰り返します。理論的には、何番目にくじを引いても同じ確率で当たりが出るはずですが、シミュレーションの結果も、そのようになるでしょうか。</p>
        <h3>実行オプションの設定</h3>
        <p><span class="label">途中経過を表示しない</span>にチェックを入れると、1回ずつくじ引きの結果を表示するのではなく、実験1回分をまとめて表示します。実験回数が多くなると、実行時間が長くなるので、ここにチェックを入れてから実行してください。</p>
        <p><span class="button">実行</span>を押すとシミュレーションを開始し、「当たりーハズレ」の結果を表示します。指定回数だけ繰り返したら終了し、何人目の人が何回当たりくじを引いたかを表示します。</p>
      </article>
    <!-- ==================================== -->
      <article>
        <h2>設定と実行</h2>
        <div id="settings">
          <p class="user_setting">
            くじの本数：
            <input class="number" id="lot_number" type="number" value="20" min="10" max="50" step="5" /><span id="lot_number_interval"></span>&nbsp;／&nbsp;
            実験回数：
            <input class="number" id="trial_number" type="number" value="50" min="50" max="5000" step="50" /><span id="trial_number_interval"></span><br />
            <label><input type="checkbox" id="result_only">途中経過を表示しない</input></label>
            <input class="button" id="btn_start" type="button" value="実行" />
            <input class="button" id="btn_reset" type="button" value="リセット" />
          </p>
        </div>
      </article>
      <div id="p5"><!-- ===== 自作ライブラリの読み込みはここで ===== -->
        <script src="scripts/mathgirl_prob_23.js"></script>
        <script src="js/contents.js"></script>
      </div>
    </main>
  </body>
</html>

