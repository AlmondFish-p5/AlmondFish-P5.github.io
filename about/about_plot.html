<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>アニメーションに適したプロットの提案</title>
    <meta name="description" content="Javascriptとp5.jsを用いたアニメーションで統計学習をサポートします。" />
  <!-- ===== 数式表示ライブラリ ===== -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- ===== p5.js ライブラリ ===== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js"></script>
  <!-- ===== 自作ライブラリ ===== -->
    <script src="js/about.js"></script>
  <!-- ===== スタイルシート初期化 ===== -->
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" />
    <link rel="stylesheet" href="css/about_style.css">
  </head>

  <body>
    <main>
      <h1>アニメーションに適したプロットの提案</h1>
      <p>本サイトでは、シミュレーションを美しく効果的に見せるために、いくつかの独自のプロットを使用しています。Rでシミュレーションを行ったときとは異なり、アニメーションであること、すなわち「発生させた乱数を次々に追加したり、乱数のリストを更新したりできること」を生かしたプロットです。</p>
      <!-- ================================ -->
      <h2>線香花火プロット</h2>
      <p>現行（2024年現在）の小学校6年生算数の教科書で「ドットプロット」（簡易的なヒストグラムの一種、文末注[1]）が扱われています。「線香花火プロット」は、これを連続型確率変数に適用したものです。特徴はつぎのとおりです。</p>
      <p><ol>
      <li>表示範囲内の実数をドットでプロットします。指定された確率分布にしたがう乱数を生成し、生成順にプロットを描き足していきます。</li>
      <li>もっとも新しい乱数が赤いドットで大きく表示され、次にグレーになって次第に小さくなり、やがて消えます。結果として、画面上に見えているのは、最近生成された乱数10個程度です。</li>
      <li>乱数が次々に生成されては消えていく様子が、線香花火の火花のように見えることから、線香花火プロットと命名しました。</li>
      <li>「確率変数はぷるぷるしている」ことを、ドットの動き方でうまく表現できているのでは、と考えられます。</li>
      </ol></p>
      <!-- ================================ -->
      <h2>バーコードプロット</h2>
      <p>ドットプロットを描くのに、ドットではなく細い縦線を用いたプロットです。線香花火プロットでは乱数が生成されては消えていきますが、バーコードプロットでは生成された値をすべて蓄積していきます。特徴は次のとおりです。</p>
      <p><ol>
      <li>表示範囲内の実数を細い縦線でプロットします。指定された確率分布にしたがう乱数を生成し、生成順にプロットを描き足していきます。</li>
      <li>いったん表示された縦線は基本的に消えず、縦線はどんどん増えていきます。ランダムな間隔で描かれた縦線がバーコードに似ていることから、バーコードプロットと命名しました。</li>
      <li>縦線は細く、半透明で描かれますが、値が生成されやすい部分（確率密度が高い）では縦線が密になるため色が濃くなります。値が生成されにくい部分（確率密度が低い）では色が薄いままです。</li>
      <li>このように、値の発生しやすさを「色の濃淡」で表すことで、確率密度を視覚的に理解することができると考えられます。この発想は、確率密度とは「インクの濃さ」であるとした、平岡・堀（2009）に通じるものです（文末注[2]）。</li>
      <li>縦線を描くときの色を自由に変えられるので、見ていて美しく、楽しいプロットです。</li>
      <!-- ================================ -->
      <h2>線香花火プロット、バーコードプロットのサンプル</h2>
      <p>サンプルプロットです。上段は標準正規分布、下段はカイ二乗分布（自由度1）です。プロット上でマウスをクリックすると一旦停止し、もう一度クリックするとまた動きます。乱数を5000個生成したら停止します。</p>
      <div id="p5"></div>
      </ol></p>
      <h3>注</h3>
      <p><strong>[1]ドットプロット</strong></p>
      <p class="quote">ドットプロットとは数直線上の該当する箇所にデータを配置し，同じ値のデータがある際には積み上げて表したものである。ドットプロットを用いることでデータの散らばりの様子が捉えやすくなる。<br /><img src="img/dotplot_example.png"><br />（文部科学省 「小学校学習指導要領（平成29年告示）解説 算数編」 p.308、図も同じ）</p>
      <p>ただし実数データでは、同一の値はほぼ出ないため、線香花火プロットでは、ドットを「積み上げて表す」表示のしかたは準備していません。</p>
      <p><strong>[2]確率密度とはインクの濃さである</strong></p>
      <p>細長いテープに、黒いインクを使ってグラデーションを印刷すると仮定します。印刷するときに紙が送られる速度が一定であるとすると、単位時間に使われるインクの量が多い時には色が濃く印刷され、単位時間に使われるインクの量が少ないときには色が薄く印刷されます。このとき、インクの濃さ（f）と、それまでに消費したインクの量（F）の関係が、確率密度と累積密度の関係として理解できる、としています。詳しくは、平岡・堀（2009）を参照してください。</p>
      <p class="quote"><img src="img/ink.png"><br />平岡和幸・堀玄（2009）「プログラミングのための確率統計」オーム社、p.115</p>
      <div id="p5">
        <script src="js/sample01.js"></script>
        <script src="../contents/lib/myRvPlotter.js"></script>
      </div>
    </main>
  </body>
</html>

